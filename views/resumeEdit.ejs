<% layout('layouts/boilerplate') %>

<link rel="stylesheet" href="/style/resume.css">
<form id="uploadForm" action="/resume?_method=PUT" method="POST" enctype="multipart/form-data">
    <section class="h-auto flex flex-col items-center justify-center py-8">    
        <div class="grid grid-cols-3 bg-white shadow-lg " style="width: 794px; height: 1121px;">
            <div class="col-span-1 bg-blue-200 flex flex-col">                                    
                <div class=" slider-container relative overflow-hidden w-full" style="height: 33.33%;">
                            <div class="slider flex transition-transform duration-500 ease-in-out w-full h-full" >
                                <img id="myProfileImg" src="/img/profileImgTest.png" alt="Image 1" class="w-full object-cover" style="height: 100%;">
                                <img src="/img/profileImgTest.png" alt="Image 2" class="w-full object-cover" style="height: 100%;">
                                <img src="/img/profileImgTest.png" alt="Image 3" class="w-full object-cover" style="height: 100%;">
                            </div>                        
                            <button type="button" id="prevBtn" class="profileImgBtn h-full absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-700 text-4xl text-white p-8 ">
                                &#10094;
                            </button>
                            <button type="button" id="nextBtn" class="profileImgBtn h-full absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-700 text-4xl text-white p-8 ">
                                &#10095;
                            </button>
                            <button type="button" class="absolute bottom-1 bg-blue-500 rounded-full p-2 shadow-2xl hover:bg-blue-600 focus:outline-none" style="opacity: 0.75; right: 0.25rem">
                                <input type="file" name="profileImgs" id="profileImgs" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" multiple>
                                <img src="/img/UploadIcon.png" alt="Upload" class="w-6 h-6 pb-1">
                            </button> 
                </div>                      
                <div>row</div>
                <div>row</div>
            </div>
            <div class="col-span-2 bg-green-200">Column 2</div>
        </div>
        <div class="mt-8 ">
            <button type="button" class="mx-4 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline">
                Cancel
            </button>              
            <button type="submit" class="mx-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline">
                Submit
            </button>
        </div>        
    </section>>          
</form>
<script>
    document.getElementById('profileImgs').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('myProfileImg').src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
    });
</script>
<script>
    let currentIndex = 0;

    const slider = document.querySelector('.slider');
    const images = document.querySelectorAll('.slider img');
    const totalImages = images.length;

    document.getElementById('nextBtn').addEventListener('click', () => {
        if (currentIndex < totalImages - 1) {
            currentIndex++;
        } else {
            currentIndex = 0;
        }
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
    });

    document.getElementById('prevBtn').addEventListener('click', () => {
        if (currentIndex > 0) {
            currentIndex--;
        } else {
            currentIndex = totalImages - 1;
        }
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
    });
</script>


